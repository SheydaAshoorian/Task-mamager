{
    "sourceFile": "apps/backend/src/auth/auth.controller.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 40,
            "patches": [
                {
                    "date": 1771069248529,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1771069266497,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,8 +9,9 @@\n   async register(\n     @Body('email') email: string,\n     @Body('password') pass: string,\n     @Body('name') name: string,\n+    \n   ) {\n     return this.authService.register(email, pass, name);\n   }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771069272715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   async register(\n     @Body('email') email: string,\n     @Body('password') pass: string,\n     @Body('name') name: string,\n-    \n+    @body\n   ) {\n     return this.authService.register(email, pass, name);\n   }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771069278620,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   async register(\n     @Body('email') email: string,\n     @Body('password') pass: string,\n     @Body('name') name: string,\n-    @body\n+    @body('family')\n   ) {\n     return this.authService.register(email, pass, name);\n   }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771069284695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   async register(\n     @Body('email') email: string,\n     @Body('password') pass: string,\n     @Body('name') name: string,\n-    @body('family')\n+    @body('family' family)\n   ) {\n     return this.authService.register(email, pass, name);\n   }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771069291663,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   async register(\n     @Body('email') email: string,\n     @Body('password') pass: string,\n     @Body('name') name: string,\n-    @body('family' family)\n+    @body('family' family: string\n   ) {\n     return this.authService.register(email, pass, name);\n   }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771069297151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   async register(\n     @Body('email') email: string,\n     @Body('password') pass: string,\n     @Body('name') name: string,\n-    @body('family' family: string\n+    @body('family') family: string,\n   ) {\n     return this.authService.register(email, pass, name);\n   }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771069316031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,7 +11,7 @@\n     @Body('password') pass: string,\n     @Body('name') name: string,\n     @body('family') family: string,\n   ) {\n-    return this.authService.register(email, pass, name);\n+    return this.authService.register(email, pass, name,);\n   }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771069335270,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,17 @@\n+import { Controller, Post, Body } from '@nestjs/common';\n+import { AuthService } from './auth.service';\n+\n+@Controller('auth')\n+export class AuthController {\n+  constructor(private readonly authService: AuthService) {}\n+\n+  @Post('register') // این همان مسیری است که ۴۰۴ می‌داد\n+  async register(\n+    @Body('email') email: string,\n+    @Body('password') pass: string,\n+    @Body('name') name: string,\n+    @Body('family') family: string,\n+  ) {\n+    return this.authService.register(email, pass, name,family);\n+  }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771070268235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,34 +0,0 @@\n-import { Controller, Post, Body } from '@nestjs/common';\n-import { AuthService } from './auth.service';\n-\n-@Controller('auth')\n-export class AuthController {\n-  constructor(private readonly authService: AuthService) {}\n-\n-  @Post('register') // این همان مسیری است که ۴۰۴ می‌داد\n-  async register(\n-    @Body('email') email: string,\n-    @Body('password') pass: string,\n-    @Body('name') name: string,\n-    @Body('family') family: string,\n-  ) {\n-    return this.authService.register(email, pass, name,family);\n-  }\n-}\n-import { Controller, Post, Body } from '@nestjs/common';\n-import { AuthService } from './auth.service';\n-\n-@Controller('auth')\n-export class AuthController {\n-  constructor(private readonly authService: AuthService) {}\n-\n-  @Post('register') // این همان مسیری است که ۴۰۴ می‌داد\n-  async register(\n-    @Body('email') email: string,\n-    @Body('password') pass: string,\n-    @Body('name') name: string,\n-    @body('family') family: string,\n-  ) {\n-    return this.authService.register(email, pass, name,);\n-  }\n-}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771075703827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,14 @@\n+import { Controller, Post, Body, UsePipes, ValidationPipe } from '@nestjs/common';\n+import { AuthService } from './auth.service';\n+import { RegisterDto } from './dto/register.dto';\n+\n+@Controller('auth')\n+export class AuthController {\n+  constructor(private readonly authService: AuthService) {}\n+\n+  @Post('register')\n+  @UsePipes(new ValidationPipe({ whitelist: true })) // پاکسازی دیتای اضافی ورودی\n+  async register(@Body() registerDto: RegisterDto) {\n+    return this.authService.register(registerDto);\n+  }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771171831439,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,5 +10,11 @@\n   @UsePipes(new ValidationPipe({ whitelist: true })) // پاکسازی دیتای اضافی ورودی\n   async register(@Body() registerDto: RegisterDto) {\n     return this.authService.register(registerDto);\n   }\n+\n+  @Post('login')\n+@HttpCode(200) // برای لاگین بهتره کد ۲۰۰ برگرده\n+async login(@Body() dto: LoginDto) {\n+  return this.authService.login(dto);\n+}\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771171846206,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Controller, Post, Body, UsePipes, ValidationPipe } from '@nestjs/common';\n+import { Controller, Post, Body, UsePipes, ValidationPipeو  } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n \n @Controller('auth')\n@@ -11,9 +11,9 @@\n   async register(@Body() registerDto: RegisterDto) {\n     return this.authService.register(registerDto);\n   }\n \n-  @Post('login')\n+@Post('login')\n @HttpCode(200) // برای لاگین بهتره کد ۲۰۰ برگرده\n async login(@Body() dto: LoginDto) {\n   return this.authService.login(dto);\n }\n"
                },
                {
                    "date": 1771171852588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Controller, Post, Body, UsePipes, ValidationPipeو  } from '@nestjs/common';\n+import { Controller, Post, Body, UsePipes, ValidationPipeو HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n \n @Controller('auth')\n"
                },
                {
                    "date": 1771171861642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Controller, Post, Body, UsePipes, ValidationPipeو HttpCode } from '@nestjs/common';\n+import { Controller, Post, Body, UsePipes, ValidationPipe, } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n \n @Controller('auth')\n"
                },
                {
                    "date": 1771171879061,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n-import { Controller, Post, Body, UsePipes, ValidationPipe, } from '@nestjs/common';\n+import { Controller, Post, Body, UsePipes, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n+import\n \n @Controller('auth')\n export class AuthController {\n   constructor(private readonly authService: AuthService) {}\n"
                },
                {
                    "date": 1771171891229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import { Controller, Post, Body, UsePipes, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n-import\n+import { Login}\n \n @Controller('auth')\n export class AuthController {\n   constructor(private readonly authService: AuthService) {}\n"
                },
                {
                    "date": 1771171896600,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import { Controller, Post, Body, UsePipes, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n-import { Login}\n+import { LoginDto } from \n \n @Controller('auth')\n export class AuthController {\n   constructor(private readonly authService: AuthService) {}\n"
                },
                {
                    "date": 1771171902532,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import { Controller, Post, Body, UsePipes, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n-import { LoginDto } from \n+import { LoginDto } from './dto'\n \n @Controller('auth')\n export class AuthController {\n   constructor(private readonly authService: AuthService) {}\n"
                },
                {
                    "date": 1771171910706,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import { Controller, Post, Body, UsePipes, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n-import { LoginDto } from './dto'\n+import { LoginDto } from './dto/login.dto'\n \n @Controller('auth')\n export class AuthController {\n   constructor(private readonly authService: AuthService) {}\n"
                },
                {
                    "date": 1771417787782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,12 @@\n import { Controller, Post, Body, UsePipes, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n-import { LoginDto } from './dto/login.dto'\n+import { LoginDto } from './dto/login.dto';\n \n @Controller('auth')\n export class AuthController {\n+  \n   constructor(private readonly authService: AuthService) {}\n \n   @Post('register')\n   @UsePipes(new ValidationPipe({ whitelist: true })) // پاکسازی دیتای اضافی ورودی\n"
                },
                {
                    "date": 1771417868548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,10 @@\n import { LoginDto } from './dto/login.dto';\n \n @Controller('auth')\n export class AuthController {\n-  \n+\n+  private readonly logger = new Logger(AuthController.name);\n   constructor(private readonly authService: AuthService) {}\n \n   @Post('register')\n   @UsePipes(new ValidationPipe({ whitelist: true })) // پاکسازی دیتای اضافی ورودی\n"
                },
                {
                    "date": 1771417874396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Controller, Post, Body, UsePipes, ValidationPipe,HttpCode } from '@nestjs/common';\n+import { Controller, Post, Body, UsePipes,« ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n \n"
                },
                {
                    "date": 1771417880720,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Controller, Post, Body, UsePipes,« ValidationPipe,HttpCode } from '@nestjs/common';\n+import { Controller, Post, Body, UsePipesو ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n \n"
                },
                {
                    "date": 1771417886882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Controller, Post, Body, UsePipesو ValidationPipe,HttpCode } from '@nestjs/common';\n+import { Controller, Post, Body, UsePipes,Logger ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n \n"
                },
                {
                    "date": 1771417892018,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Controller, Post, Body, UsePipes,Logger ValidationPipe,HttpCode } from '@nestjs/common';\n+import { Controller, Post, Body, UsePipes,Logger, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n \n"
                },
                {
                    "date": 1771418096773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Controller, Post, Body, UsePipes,Logger, ValidationPipe,HttpCode } from '@nestjs/common';\n+import { Controller, Post, Body, UsePipes, Logger, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n \n@@ -11,8 +11,9 @@\n \n   @Post('register')\n   @UsePipes(new ValidationPipe({ whitelist: true })) // پاکسازی دیتای اضافی ورودی\n   async register(@Body() registerDto: RegisterDto) {\n+    \n     return this.authService.register(registerDto);\n   }\n \n @Post('login')\n"
                },
                {
                    "date": 1771418118262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,9 @@\n   @Post('register')\n   @UsePipes(new ValidationPipe({ whitelist: true })) // پاکسازی دیتای اضافی ورودی\n   async register(@Body() registerDto: RegisterDto) {\n     \n+    this.logger.log(`درخواست ثبت‌نام جدید برای: ${registerDto.email}`);\n     return this.authService.register(registerDto);\n   }\n \n @Post('login')\n"
                },
                {
                    "date": 1771418226618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,12 +9,12 @@\n   private readonly logger = new Logger(AuthController.name);\n   constructor(private readonly authService: AuthService) {}\n \n   @Post('register')\n-  @UsePipes(new ValidationPipe({ whitelist: true })) // پاکسازی دیتای اضافی ورودی\n   async register(@Body() registerDto: RegisterDto) {\n-    \n+\n     this.logger.log(`درخواست ثبت‌نام جدید برای: ${registerDto.email}`);\n+\n     return this.authService.register(registerDto);\n   }\n \n @Post('login')\n"
                },
                {
                    "date": 1771421703493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n     return this.authService.register(registerDto);\n   }\n \n @Post('login')\n-@HttpCode(200) // برای لاگین بهتره کد ۲۰۰ برگرده\n-async login(@Body() dto: LoginDto) {\n-  return this.authService.login(dto);\n+async login(@Body() loginDto: any) {\n+  return this.authService.login(loginDto);\n }\n+\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771439839840,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n import { Controller, Post, Body, UsePipes, Logger, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n+import { AuthGuard } from './auth.guard';\n \n @Controller('auth')\n export class AuthController {\n \n@@ -17,9 +18,8 @@\n     return this.authService.register(registerDto);\n   }\n \n @Post('login')\n-async login(@Body() loginDto: any) {\n-  return this.authService.login(loginDto);\n+async login(@Body() dto: LoginDto) {\n+  return this.authService.login(dto);\n }\n-\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771439929666,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n import { AuthGuard } from './auth.guard';\n \n+\n @Controller('auth')\n export class AuthController {\n \n   private readonly logger = new Logger(AuthController.name);\n@@ -21,5 +22,7 @@\n @Post('login')\n async login(@Body() dto: LoginDto) {\n   return this.authService.login(dto);\n }\n+\n+\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771440411805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,6 +23,11 @@\n async login(@Body() dto: LoginDto) {\n   return this.authService.login(dto);\n }\n \n-\n+  @UseGuards(AuthGuard) // از این به بعد این مسیر قفل است!\n+  @Get('profile')\n+  getProfile(@Request() req) {\n+    // اطلاعات کاربر که در گارد ریختیم توی request، اینجا برمی‌گردانیم\n+    return req.user; \n+  }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771440417556,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,8 +23,9 @@\n async login(@Body() dto: LoginDto) {\n   return this.authService.login(dto);\n }\n \n+  @ApiBearerAuth('JWT-auth')\n   @UseGuards(AuthGuard) // از این به بعد این مسیر قفل است!\n   @Get('profile')\n   getProfile(@Request() req) {\n     // اطلاعات کاربر که در گارد ریختیم توی request، اینجا برمی‌گردانیم\n"
                },
                {
                    "date": 1771440469755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,5 @@\n-import { Controller, Post, Body, UsePipes, Logger, ValidationPipe,HttpCode } from '@nestjs/common';\n+import { Controller, Post,Get Body, UsePipes, Logger, ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n import { AuthGuard } from './auth.guard';\n"
                },
                {
                    "date": 1771440502755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n-import { Controller, Post,Get Body, UsePipes, Logger, ValidationPipe,HttpCode } from '@nestjs/common';\n+import { Controller, Post,Get, Body, UsePipes, Logger,\n+   ValidationPipe,HttpCode } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n import { AuthGuard } from './auth.guard';\n"
                },
                {
                    "date": 1771440540047,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,14 @@\n import { Controller, Post,Get, Body, UsePipes, Logger,\n-   ValidationPipe,HttpCode } from '@nestjs/common';\n+   ValidationPipe,HttpCode, Request, UseGuards } from '@nestjs/common';\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n import { AuthGuard } from './auth.guard';\n+import { ApiProperty } from '@nestjs/swagger';\n \n \n+\n @Controller('auth')\n export class AuthController {\n \n   private readonly logger = new Logger(AuthController.name);\n"
                },
                {
                    "date": 1771440549169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import { AuthService } from './auth.service';\n import { RegisterDto } from './dto/register.dto';\n import { LoginDto } from './dto/login.dto';\n import { AuthGuard } from './auth.guard';\n-import { ApiProperty } from '@nestjs/swagger';\n+import { ApiBearerAuth } from '@nestjs/swagger';\n \n \n \n @Controller('auth')\n"
                },
                {
                    "date": 1771511015761,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,37 @@\n+import { Controller, Post,Get, Body, UsePipes, Logger,\n+   ValidationPipe,HttpCode, Request, UseGuards } from '@nestjs/common';\n+import { AuthService } from './auth.service';\n+import { RegisterDto } from './dto/register.dto';\n+import { LoginDto } from './dto/login.dto';\n+//import { AuthGuard } from './auth.guard';\n+import { ApiBearerAuth } from '@nestjs/swagger';\n+\n+\n+\n+@Controller('auth')\n+export class AuthController {\n+\n+  private readonly logger = new Logger(AuthController.name);\n+  constructor(private readonly authService: AuthService) {}\n+\n+  @Post('register')\n+  async register(@Body() registerDto: RegisterDto) {\n+\n+    this.logger.log(`درخواست ثبت‌نام جدید برای: ${registerDto.email}`);\n+\n+    return this.authService.register(registerDto);\n+  }\n+\n+@Post('login')\n+async login(@Body() dto: LoginDto) {\n+  return this.authService.login(dto);\n+}\n+\n+  @ApiBearerAuth('JWT-auth')\n+  @UseGuards(AuthGuard) // از این به بعد این مسیر قفل است!\n+  @Get('profile')\n+  getProfile(@Request() req) {\n+    // اطلاعات کاربر که در گارد ریختیم توی request، اینجا برمی‌گردانیم\n+    return req.user; \n+  }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771511024468,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,48 +27,11 @@\n   return this.authService.login(dto);\n }\n \n   @ApiBearerAuth('JWT-auth')\n-  @UseGuards(AuthGuard) // از این به بعد این مسیر قفل است!\n+  //@UseGuards(AuthGuard) // از این به بعد این مسیر قفل است!\n   @Get('profile')\n   getProfile(@Request() req) {\n     // اطلاعات کاربر که در گارد ریختیم توی request، اینجا برمی‌گردانیم\n     return req.user; \n   }\n-}\n-import { Controller, Post,Get, Body, UsePipes, Logger,\n-   ValidationPipe,HttpCode, Request, UseGuards } from '@nestjs/common';\n-import { AuthService } from './auth.service';\n-import { RegisterDto } from './dto/register.dto';\n-import { LoginDto } from './dto/login.dto';\n-import { AuthGuard } from './auth.guard';\n-import { ApiBearerAuth } from '@nestjs/swagger';\n-\n-\n-\n-@Controller('auth')\n-export class AuthController {\n-\n-  private readonly logger = new Logger(AuthController.name);\n-  constructor(private readonly authService: AuthService) {}\n-\n-  @Post('register')\n-  async register(@Body() registerDto: RegisterDto) {\n-\n-    this.logger.log(`درخواست ثبت‌نام جدید برای: ${registerDto.email}`);\n-\n-    return this.authService.register(registerDto);\n-  }\n-\n-@Post('login')\n-async login(@Body() dto: LoginDto) {\n-  return this.authService.login(dto);\n-}\n-\n-  @ApiBearerAuth('JWT-auth')\n-  @UseGuards(AuthGuard) // از این به بعد این مسیر قفل است!\n-  @Get('profile')\n-  getProfile(@Request() req) {\n-    // اطلاعات کاربر که در گارد ریختیم توی request، اینجا برمی‌گردانیم\n-    return req.user; \n-  }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771527008865,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,37 @@\n+import { Controller, Post,Get, Body, UsePipes, Logger,\n+   ValidationPipe,HttpCode, Request, UseGuards } from '@nestjs/common';\n+import { AuthService } from './auth.service';\n+import { RegisterDto } from './dto/register.dto';\n+import { LoginDto } from './dto/login.dto';\n+import { AuthGuard } from './auth.guard';\n+import { ApiBearerAuth } from '@nestjs/swagger';\n+\n+\n+\n+@Controller('auth')\n+export class AuthController {\n+\n+  private readonly logger = new Logger(AuthController.name);\n+  constructor(private readonly authService: AuthService) {}\n+\n+  @Post('register')\n+  async register(@Body() registerDto: RegisterDto) {\n+\n+    this.logger.log(`درخواست ثبت‌نام جدید برای: ${registerDto.email}`);\n+\n+    return this.authService.register(registerDto);\n+  }\n+\n+@Post('login')\n+async login(@Body() dto: LoginDto) {\n+  return this.authService.login(dto);\n+}\n+\n+  @ApiBearerAuth('JWT-auth')\n+  @UseGuards(AuthGuard) // از این به بعد این مسیر قفل است!\n+  @Get('profile')\n+  getProfile(@Request() req) {\n+    // اطلاعات کاربر که در گارد ریختیم توی request، اینجا برمی‌گردانیم\n+    return req.user; \n+  }\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1771069248529,
            "name": "Commit-0",
            "content": "import { Controller, Post, Body } from '@nestjs/common';\nimport { AuthService } from './auth.service';\n\n@Controller('auth')\nexport class AuthController {\n  constructor(private readonly authService: AuthService) {}\n\n  @Post('register') // این همان مسیری است که ۴۰۴ می‌داد\n  async register(\n    @Body('email') email: string,\n    @Body('password') pass: string,\n    @Body('name') name: string,\n  ) {\n    return this.authService.register(email, pass, name);\n  }\n}"
        }
    ]
}