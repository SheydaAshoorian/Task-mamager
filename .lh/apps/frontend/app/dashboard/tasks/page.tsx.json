{
    "sourceFile": "apps/frontend/app/dashboard/tasks/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1771340595104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1771340595104,
            "name": "Commit-0",
            "content": "\n\"use client\";\nimport { useEffect, useState } from 'react';\nimport axios from 'axios'; // حتماً اکسپورت اکسایوس رو چک کن\n\nexport default function TasksListPage() {\n  const [tasks, setTasks] = useState([]);\n\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const response = await axios.get('http://localhost:3000/tasks');\n        \n\n        if (response.data && response.data.data) {\n          setTasks(response.data.data);\n        }\n      } catch (error) {\n        console.error(\"خطا در دریافت تسک‌ها:\", error);\n      }\n    };\n\n    fetchTasks();\n  }, []);\n\n  return (\n    <div dir=\"rtl\" className=\"p-4\">\n      <h1 className=\"text-2xl font-bold mb-6 text-gray-800\">لیست کل تسک‌ها</h1>\n      <div className=\"bg-white shadow-lg rounded-2xl overflow-hidden border border-gray-100\">\n        <table className=\"w-full text-right border-collapse\">\n          <thead className=\"bg-blue-600 text-white\">\n            <tr>\n              <th className=\"p-4 text-sm font-semibold\">عنوان تسک</th>\n              <th className=\"p-4 text-sm font-semibold\">ارجاع به</th> {/* ستون جدید */}\n              <th className=\"p-4 text-sm font-semibold\">اولویت</th>\n              <th className=\"p-4 text-sm font-semibold\">وضعیت</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-gray-100\">\n            {tasks.map((task: any) => (\n              <tr key={task.id} className=\"hover:bg-blue-50/50 transition-colors\">\n                <td className=\"p-4 text-gray-700 font-medium\">{task.title}</td>\n                <td className=\"p-4 text-gray-600\">\n                  {/* نمایش نام کارمند که در اسکرین‌شات ۵:۲۴ دیدیم */}\n                  {task.assignedTo?.name} {task.assignedTo?.family}\n                </td>\n                <td className=\"p-4\">\n                  <span className={`px-3 py-1 rounded-full text-xs font-bold ${\n                    task.priority === 'low' ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'\n                  }`}>\n                    {task.priority === 'low' ? 'معمولی' : 'فوری'}\n                  </span>\n                </td>\n                <td className=\"p-4 text-sm text-gray-500\">{task.status}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}"
        }
    ]
}