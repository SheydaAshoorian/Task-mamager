{
    "sourceFile": "apps/frontend/app/page.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 55,
            "patches": [
                {
                    "date": 1771052571256,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1771052606356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n 'use client'; // چون فرم داریم باید کلاینت کامپوننت باشه\n import { useState } from 'react';\n \n-export default function LoginPage() {\n+export default functiage() {\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n \n   const handleLogin = async (e: React.FormEvent) => {\n"
                },
                {
                    "date": 1771054953508,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,47 +1,51 @@\n-'use client'; // چون فرم داریم باید کلاینت کامپوننت باشه\n+'use client';\n import { useState } from 'react';\n \n-export default functiage() {\n+export default function LoginPage() {\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n \n   const handleLogin = async (e: React.FormEvent) => {\n     e.preventDefault();\n+    try {\n+      const response = await fetch('http://localhost:3000/auth/login', {\n+        method: 'POST',\n+        headers: { 'Content-Type': 'application/json' },\n+        body: JSON.stringify({ email, password }),\n+      });\n \n-    const response = await fetch('http://localhost:3000/auth/login', {\n-      method: 'POST',\n-      headers: { 'Content-Type': 'application/json' },\n-      body: JSON.stringify({ email, password }),\n-    });\n+      const data = await response.json();\n \n-    const data = await response.json();\n-\n-    if (response.ok) {\n-      alert('ایول! لاگین شدیم. توکن: ' + data.access_token);\n-      localStorage.setItem('token', data.access_token); // ذخیره موقت توکن\n-    } else {\n-      alert('خطا: ' + data.message);\n+      if (response.ok) {\n+        alert('ورود موفقیت‌آمیز! توکن شما دریافت شد.');\n+        console.log('JWT Token:', data.access_token);\n+        localStorage.setItem('token', data.access_token); // ذخیره توکن برای استفاده‌های بعدی\n+      } else {\n+        alert('خطا در ورود: ' + data.message);\n+      }\n+    } catch (error) {\n+      alert('ارتباط با بک‌اِند برقرار نشد. مطمئن شو NestJS روشنه!');\n     }\n   };\n \n   return (\n-    <main className=\"flex min-h-screen flex-col items-center justify-center p-24 bg-gray-100\">\n-      <form onSubmit={handleLogin} className=\"p-8 bg-white rounded-lg shadow-md w-96\">\n-        <h1 className=\"text-2xl font-bold mb-6 text-center text-gray-800\">ورود به ERP</h1>\n+    <div className=\"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white\">\n+      <form onSubmit={handleLogin} className=\"bg-slate-800 p-8 rounded-xl shadow-2xl w-96 border border-slate-700\">\n+        <h2 className=\"text-2xl font-bold mb-6 text-center text-blue-400\">ورود به سیستم ERP</h2>\n         <input \n-          type=\"email\" placeholder=\"ایمیل\" \n-          className=\"w-full p-2 mb-4 border rounded text-gray-900\"\n+          type=\"email\" placeholder=\"Email\" \n+          className=\"w-full p-3 mb-4 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:border-blue-500\"\n           onChange={(e) => setEmail(e.target.value)}\n         />\n         <input \n-          type=\"password\" placeholder=\"رمز عبور\" \n-          className=\"w-full p-2 mb-6 border rounded text-gray-900\"\n+          type=\"password\" placeholder=\"Password\" \n+          className=\"w-full p-3 mb-6 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:border-blue-500\"\n           onChange={(e) => setPassword(e.target.value)}\n         />\n-        <button type=\"submit\" className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\">\n-          ورود\n+        <button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-500 py-3 rounded-lg font-bold transition\">\n+          Login\n         </button>\n       </form>\n-    </main>\n+    </div>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771063721926,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,8 +44,17 @@\n         />\n         <button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-500 py-3 rounded-lg font-bold transition\">\n           Login\n         </button>\n+        <p className=\"mt-6 text-center text-sm text-slate-400\">\n+  هنوز حساب کاربری نداری؟{' '}\n+  <button \n+    onClick={() => router.push('/register')} \n+    className=\"text-blue-400 hover:text-blue-300 font-semibold transition underline-offset-4 hover:underline\"\n+  >\n+    ایجاد حساب جدید\n+  </button>\n+</p>\n       </form>\n     </div>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771063727978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,15 +46,15 @@\n           Login\n         </button>\n         <p className=\"mt-6 text-center text-sm text-slate-400\">\n   هنوز حساب کاربری نداری؟{' '}\n-  <button \n-    onClick={() => router.push('/register')} \n-    className=\"text-blue-400 hover:text-blue-300 font-semibold transition underline-offset-4 hover:underline\"\n-  >\n-    ایجاد حساب جدید\n-  </button>\n-</p>\n+        <button \n+          onClick={() => router.push('/register')} \n+          className=\"text-blue-400 hover:text-blue-300 font-semibold transition underline-offset-4 hover:underline\"\n+        >\n+          ایجاد حساب جدید\n+        </button>\n+      </p>\n       </form>\n     </div>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771063733063,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -45,16 +45,16 @@\n         <button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-500 py-3 rounded-lg font-bold transition\">\n           Login\n         </button>\n         <p className=\"mt-6 text-center text-sm text-slate-400\">\n-  هنوز حساب کاربری نداری؟{' '}\n-        <button \n-          onClick={() => router.push('/register')} \n-          className=\"text-blue-400 hover:text-blue-300 font-semibold transition underline-offset-4 hover:underline\"\n-        >\n-          ایجاد حساب جدید\n-        </button>\n-      </p>\n+         هنوز حساب کاربری نداری؟{' '}\n+          <button \n+            onClick={() => router.push('/register')} \n+            className=\"text-blue-400 hover:text-blue-300 font-semibold transition underline-offset-4 hover:underline\"\n+          >\n+            ایجاد حساب جدید\n+          </button>\n+        </p>\n       </form>\n     </div>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771071785013,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,60 +1,60 @@\n-'use client';\n-import { useState } from 'react';\n+// 'use client';\n+// import { useState } from 'react';\n \n-export default function LoginPage() {\n-  const [email, setEmail] = useState('');\n-  const [password, setPassword] = useState('');\n+// export default function LoginPage() {\n+//   const [email, setEmail] = useState('');\n+//   const [password, setPassword] = useState('');\n \n-  const handleLogin = async (e: React.FormEvent) => {\n-    e.preventDefault();\n-    try {\n-      const response = await fetch('http://localhost:3000/auth/login', {\n-        method: 'POST',\n-        headers: { 'Content-Type': 'application/json' },\n-        body: JSON.stringify({ email, password }),\n-      });\n+//   const handleLogin = async (e: React.FormEvent) => {\n+//     e.preventDefault();\n+//     try {\n+//       const response = await fetch('http://localhost:3000/auth/login', {\n+//         method: 'POST',\n+//         headers: { 'Content-Type': 'application/json' },\n+//         body: JSON.stringify({ email, password }),\n+//       });\n \n-      const data = await response.json();\n+//       const data = await response.json();\n \n-      if (response.ok) {\n-        alert('ورود موفقیت‌آمیز! توکن شما دریافت شد.');\n-        console.log('JWT Token:', data.access_token);\n-        localStorage.setItem('token', data.access_token); // ذخیره توکن برای استفاده‌های بعدی\n-      } else {\n-        alert('خطا در ورود: ' + data.message);\n-      }\n-    } catch (error) {\n-      alert('ارتباط با بک‌اِند برقرار نشد. مطمئن شو NestJS روشنه!');\n-    }\n-  };\n+//       if (response.ok) {\n+//         alert('ورود موفقیت‌آمیز! توکن شما دریافت شد.');\n+//         console.log('JWT Token:', data.access_token);\n+//         localStorage.setItem('token', data.access_token); // ذخیره توکن برای استفاده‌های بعدی\n+//       } else {\n+//         alert('خطا در ورود: ' + data.message);\n+//       }\n+//     } catch (error) {\n+//       alert('ارتباط با بک‌اِند برقرار نشد. مطمئن شو NestJS روشنه!');\n+//     }\n+//   };\n \n-  return (\n-    <div className=\"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white\">\n-      <form onSubmit={handleLogin} className=\"bg-slate-800 p-8 rounded-xl shadow-2xl w-96 border border-slate-700\">\n-        <h2 className=\"text-2xl font-bold mb-6 text-center text-blue-400\">ورود به سیستم ERP</h2>\n-        <input \n\\ No newline at end of file\n-          type=\"email\" placeholder=\"Email\" \n-          className=\"w-full p-3 mb-4 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:border-blue-500\"\n-          onChange={(e) => setEmail(e.target.value)}\n-        />\n-        <input \n-          type=\"password\" placeholder=\"Password\" \n-          className=\"w-full p-3 mb-6 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:border-blue-500\"\n-          onChange={(e) => setPassword(e.target.value)}\n-        />\n-        <button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-500 py-3 rounded-lg font-bold transition\">\n-          Login\n-        </button>\n-        <p className=\"mt-6 text-center text-sm text-slate-400\">\n-         هنوز حساب کاربری نداری؟{' '}\n-          <button \n-            onClick={() => router.push('/register')} \n-            className=\"text-blue-400 hover:text-blue-300 font-semibold transition underline-offset-4 hover:underline\"\n-          >\n-            ایجاد حساب جدید\n-          </button>\n-        </p>\n-      </form>\n-    </div>\n-  );\n-}\n+//   return (\n+//     <div className=\"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white\">\n+//       <form onSubmit={handleLogin} className=\"bg-slate-800 p-8 rounded-xl shadow-2xl w-96 border border-slate-700\">\n+//         <h2 className=\"text-2xl font-bold mb-6 text-center text-blue-400\">ورود به سیستم ERP</h2>\n+//         <input \n+//           type=\"email\" placeholder=\"Email\" \n+//           className=\"w-full p-3 mb-4 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:border-blue-500\"\n+//           onChange={(e) => setEmail(e.target.value)}\n+//         />\n+//         <input \n+//           type=\"password\" placeholder=\"Password\" \n+//           className=\"w-full p-3 mb-6 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:border-blue-500\"\n+//           onChange={(e) => setPassword(e.target.value)}\n+//         />\n+//         <button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-500 py-3 rounded-lg font-bold transition\">\n+//           Login\n+//         </button>\n+//         <p className=\"mt-6 text-center text-sm text-slate-400\">\n+//          هنوز حساب کاربری نداری؟{' '}\n+//           <button \n+//             onClick={() => router.push('/register')} \n+//             className=\"text-blue-400 hover:text-blue-300 font-semibold transition underline-offset-4 hover:underline\"\n+//           >\n+//             ایجاد حساب جدید\n+//           </button>\n+//         </p>\n+//       </form>\n+//     </div>\n+//   );\n+// }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771071891490,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,60 +0,0 @@\n-// 'use client';\n-// import { useState } from 'react';\n-\n-// export default function LoginPage() {\n-//   const [email, setEmail] = useState('');\n-//   const [password, setPassword] = useState('');\n-\n-//   const handleLogin = async (e: React.FormEvent) => {\n-//     e.preventDefault();\n-//     try {\n-//       const response = await fetch('http://localhost:3000/auth/login', {\n-//         method: 'POST',\n-//         headers: { 'Content-Type': 'application/json' },\n-//         body: JSON.stringify({ email, password }),\n-//       });\n-\n-//       const data = await response.json();\n-\n-//       if (response.ok) {\n-//         alert('ورود موفقیت‌آمیز! توکن شما دریافت شد.');\n-//         console.log('JWT Token:', data.access_token);\n-//         localStorage.setItem('token', data.access_token); // ذخیره توکن برای استفاده‌های بعدی\n-//       } else {\n-//         alert('خطا در ورود: ' + data.message);\n-//       }\n-//     } catch (error) {\n-//       alert('ارتباط با بک‌اِند برقرار نشد. مطمئن شو NestJS روشنه!');\n-//     }\n-//   };\n-\n-//   return (\n-//     <div className=\"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-white\">\n-//       <form onSubmit={handleLogin} className=\"bg-slate-800 p-8 rounded-xl shadow-2xl w-96 border border-slate-700\">\n-//         <h2 className=\"text-2xl font-bold mb-6 text-center text-blue-400\">ورود به سیستم ERP</h2>\n-//         <input \n-//           type=\"email\" placeholder=\"Email\" \n-//           className=\"w-full p-3 mb-4 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:border-blue-500\"\n-//           onChange={(e) => setEmail(e.target.value)}\n-//         />\n-//         <input \n-//           type=\"password\" placeholder=\"Password\" \n-//           className=\"w-full p-3 mb-6 rounded bg-slate-700 border border-slate-600 focus:outline-none focus:border-blue-500\"\n-//           onChange={(e) => setPassword(e.target.value)}\n-//         />\n-//         <button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-500 py-3 rounded-lg font-bold transition\">\n-//           Login\n-//         </button>\n-//         <p className=\"mt-6 text-center text-sm text-slate-400\">\n-//          هنوز حساب کاربری نداری؟{' '}\n-//           <button \n-//             onClick={() => router.push('/register')} \n-//             className=\"text-blue-400 hover:text-blue-300 font-semibold transition underline-offset-4 hover:underline\"\n-//           >\n-//             ایجاد حساب جدید\n-//           </button>\n-//         </p>\n-//       </form>\n-//     </div>\n-//   );\n-// }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771233496224,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,50 @@\n+'use client'; // حتما این خط رو اول فایل بذار چون داریم از useState استفاده می‌کنیم\n+\n+import { useState } from 'react';\n+import axios from 'axios';\n+\n+export default function LoginPage() { // این همان default export است که ارور می‌داد\n+  const [email, setEmail] = useState('');\n+  const [password, setPassword] = useState('');\n+\n+  const handleLogin = async (e: React.FormEvent) => {\n+    e.preventDefault();\n+    try {\n+      // استفاده از axios برای فرستادن اطلاعات به بک‌ند\n+      const response = await axios.post('http://localhost:3000/auth/login', {\n+        email: email,\n+        password: password\n+      });\n+\n+      console.log('پاسخ بک‌ند:', response.data);\n+      alert('لاگین موفقیت‌آمیز بود (توکن دریافت شد)');\n+      \n+    } catch (error: any) {\n+      console.error('خطا در اتصال:', error.response?.data || error.message);\n+      alert('خطا! احتمالا همون مشکل پسورد بک‌نده، ولی ارتباط فرانت و بک‌ند الان وصله.');\n+    }\n+  };\n+\n+  return (\n+    <div className=\"p-20\">\n+      <form onSubmit={handleLogin} className=\"flex flex-col gap-4 max-w-sm\">\n+        <h1 className=\"text-2xl mb-4\">ورود به سیستم</h1>\n+        <input \n+          type=\"email\" \n+          placeholder=\"ایمیل\" \n+          className=\"border p-2 text-black\"\n+          onChange={(e) => setEmail(e.target.value)}\n+        />\n+        <input \n+          type=\"password\" \n+          placeholder=\"رمز عبور\" \n+          className=\"border p-2 text-black\"\n+          onChange={(e) => setPassword(e.target.value)}\n+        />\n+        <button type=\"submit\" className=\"bg-blue-600 text-white p-2 rounded\">\n+          Login\n+        </button>\n+      </form>\n+    </div>\n+  );\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771233511886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,5 +46,5 @@\n         </button>\n       </form>\n     </div>\n   );\n-}\n\\ No newline at end of file\n+}clear\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771233889171,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,50 +1,84 @@\n-'use client'; // حتما این خط رو اول فایل بذار چون داریم از useState استفاده می‌کنیم\n+'use client';\n \n import { useState } from 'react';\n import axios from 'axios';\n+import { useRouter } from 'next/navigation';\n \n-export default function LoginPage() { // این همان default export است که ارور می‌داد\n+export default function LoginPage() {\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n+  const [loading, setLoading] = useState(false);\n+  const router = useRouter();\n \n   const handleLogin = async (e: React.FormEvent) => {\n     e.preventDefault();\n+    setLoading(true);\n     try {\n-      // استفاده از axios برای فرستادن اطلاعات به بک‌ند\n       const response = await axios.post('http://localhost:3000/auth/login', {\n-        email: email,\n-        password: password\n+        email,\n+        password,\n       });\n \n-      console.log('پاسخ بک‌ند:', response.data);\n-      alert('لاگین موفقیت‌آمیز بود (توکن دریافت شد)');\n-      \n+      localStorage.setItem('token', response.data.access_token);\n+      alert('خوش آمدید!');\n+      router.push('/dashboard'); // یا هر مسیری که بعد لاگین باید برود\n     } catch (error: any) {\n-      console.error('خطا در اتصال:', error.response?.data || error.message);\n-      alert('خطا! احتمالا همون مشکل پسورد بک‌نده، ولی ارتباط فرانت و بک‌ند الان وصله.');\n+      console.error(error.response?.data);\n+      alert('ایمیل یا رمز عبور اشتباه است');\n+    } finally {\n+      setLoading(false);\n     }\n   };\n \n   return (\n-    <div className=\"p-20\">\n-      <form onSubmit={handleLogin} className=\"flex flex-col gap-4 max-w-sm\">\n-        <h1 className=\"text-2xl mb-4\">ورود به سیستم</h1>\n-        <input \n-          type=\"email\" \n-          placeholder=\"ایمیل\" \n-          className=\"border p-2 text-black\"\n\\ No newline at end of file\n-          onChange={(e) => setEmail(e.target.value)}\n-        />\n-        <input \n-          type=\"password\" \n-          placeholder=\"رمز عبور\" \n-          className=\"border p-2 text-black\"\n-          onChange={(e) => setPassword(e.target.value)}\n-        />\n-        <button type=\"submit\" className=\"bg-blue-600 text-white p-2 rounded\">\n-          Login\n-        </button>\n-      </form>\n+    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n+      <div className=\"max-w-md w-full bg-white rounded-xl shadow-lg p-8 border border-gray-100\">\n+        <div className=\"text-center mb-8\">\n+          <h2 className=\"text-3xl font-bold text-gray-800\">ورود به سیستم</h2>\n+          <p className=\"text-gray-500 mt-2\">خوشحالیم که دوباره شما را می‌بینیم</p>\n+        </div>\n+\n+        <form onSubmit={handleLogin} className=\"space-y-6\">\n+          <div>\n+            <label className=\"block text-sm font-medium text-gray-700 mb-2\">ایمیل</ts-label>\n+            <input\n+              type=\"email\"\n+              required\n+              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-black\"\n+              placeholder=\"name@company.com\"\n+              onChange={(e) => setEmail(e.target.value)}\n+            />\n+          </div>\n+\n+          <div>\n+            <label className=\"block text-sm font-medium text-gray-700 mb-2\">رمز عبور</label>\n+            <input\n+              type=\"password\"\n+              required\n+              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-black\"\n+              placeholder=\"••••••••\"\n+              onChange={(e) => setPassword(e.target.value)}\n+            />\n+          </div>\n+\n+          <button\n+            type=\"submit\"\n+            disabled={loading}\n+            className={`w-full py-3 rounded-lg text-white font-semibold transition-all ${\n+              loading ? 'bg-blue-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 shadow-md'\n+            }`}\n+          >\n+            {loading ? 'در حال بررسی...' : 'ورود'}\n+          </button>\n+        </form>\n+\n+        <div className=\"mt-6 text-center text-sm text-gray-600\">\n+          حساب کاربری ندارید؟{' '}\n+          <a href=\"/register\" className=\"text-blue-600 hover:underline font-medium\">\n+            ثبت‌نام کنید\n+          </a>\n+        </div>\n+      </div>\n     </div>\n   );\n-}clear\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771234018918,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,84 +0,0 @@\n-'use client';\n-\n-import { useState } from 'react';\n-import axios from 'axios';\n-import { useRouter } from 'next/navigation';\n-\n-export default function LoginPage() {\n-  const [email, setEmail] = useState('');\n-  const [password, setPassword] = useState('');\n-  const [loading, setLoading] = useState(false);\n-  const router = useRouter();\n-\n-  const handleLogin = async (e: React.FormEvent) => {\n-    e.preventDefault();\n-    setLoading(true);\n-    try {\n-      const response = await axios.post('http://localhost:3000/auth/login', {\n-        email,\n-        password,\n-      });\n-\n-      localStorage.setItem('token', response.data.access_token);\n-      alert('خوش آمدید!');\n-      router.push('/dashboard'); // یا هر مسیری که بعد لاگین باید برود\n-    } catch (error: any) {\n-      console.error(error.response?.data);\n-      alert('ایمیل یا رمز عبور اشتباه است');\n-    } finally {\n-      setLoading(false);\n-    }\n-  };\n-\n-  return (\n-    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n-      <div className=\"max-w-md w-full bg-white rounded-xl shadow-lg p-8 border border-gray-100\">\n-        <div className=\"text-center mb-8\">\n-          <h2 className=\"text-3xl font-bold text-gray-800\">ورود به سیستم</h2>\n-          <p className=\"text-gray-500 mt-2\">خوشحالیم که دوباره شما را می‌بینیم</p>\n-        </div>\n-\n-        <form onSubmit={handleLogin} className=\"space-y-6\">\n-          <div>\n-            <label className=\"block text-sm font-medium text-gray-700 mb-2\">ایمیل</ts-label>\n-            <input\n-              type=\"email\"\n-              required\n-              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-black\"\n-              placeholder=\"name@company.com\"\n-              onChange={(e) => setEmail(e.target.value)}\n-            />\n-          </div>\n-\n-          <div>\n-            <label className=\"block text-sm font-medium text-gray-700 mb-2\">رمز عبور</label>\n-            <input\n-              type=\"password\"\n-              required\n-              className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-black\"\n-              placeholder=\"••••••••\"\n-              onChange={(e) => setPassword(e.target.value)}\n-            />\n-          </div>\n-\n-          <button\n-            type=\"submit\"\n-            disabled={loading}\n-            className={`w-full py-3 rounded-lg text-white font-semibold transition-all ${\n-              loading ? 'bg-blue-400 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 shadow-md'\n-            }`}\n-          >\n-            {loading ? 'در حال بررسی...' : 'ورود'}\n-          </button>\n-        </form>\n-\n-        <div className=\"mt-6 text-center text-sm text-gray-600\">\n-          حساب کاربری ندارید؟{' '}\n-          <a href=\"/register\" className=\"text-blue-600 hover:underline font-medium\">\n-            ثبت‌نام کنید\n-          </a>\n-        </div>\n-      </div>\n-    </div>\n-  );\n-}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771234179794,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,99 @@\n+'use client';\n+\n+import { useState } from 'react';\n+import axios from 'axios';\n+import { useRouter } from 'next/navigation';\n+\n+export default function LoginPage() {\n+  const [email, setEmail] = useState('');\n+  const [password, setPassword] = useState('');\n+  const [loading, setLoading] = useState(false);\n+  const router = useRouter();\n+\n+  const handleLogin = async (e: React.FormEvent) => {\n+    e.preventDefault();\n+    setLoading(true);\n+    try {\n+      const response = await axios.post('http://localhost:3000/auth/login', {\n+        email,\n+        password,\n+      });\n+      localStorage.setItem('token', response.data.access_token);\n+      alert('خوش آمدید!');\n+      router.push('/dashboard');\n+    } catch (error: any) {\n+      alert('ایمیل یا رمز عبور اشتباه است');\n+    } finally {\n+      setLoading(false);\n+    }\n+  };\n+\n+  return (\n+    <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n+      {/* Main Container */}\n+      <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n+        \n+        {/* Left Side - Blue Branding (Exactly like your Register) */}\n+        <div className=\"hidden md:flex md:w-2/5 bg-[#1d63ff] p-10 flex-col justify-center items-center text-center text-white relative\">\n+          <h1 className=\"text-4xl font-extrabold mb-4 tracking-tight\">ERP<br/>System</h1>\n+          <p className=\"text-blue-100 text-sm leading-relaxed mb-8\">\n+            به سامانه مدیریت منابع سازمانی خوش آمدید\n+          </p>\n+          {/* Subtle line indicator under the text */}\n+          <div className=\"w-12 h-1 bg-blue-300 opacity-50 rounded-full\"></div>\n+        </div>\n+\n+        {/* Right Side - Login Form */}\n+        <div className=\"w-full md:w-3/5 p-12 flex flex-col justify-center\">\n+          <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ورود به حساب کاربری</h2>\n+          <div className=\"w-full h-[1px] bg-gray-200 mb-8\"></div>\n+\n+          <form onSubmit={handleLogin} className=\"space-y-6\">\n+            <div className=\"text-right\">\n+              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">پست الکترونیک</label>\n+              <input\n+                type=\"email\"\n+                required\n+                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                placeholder=\"email@example.com\"\n+                onChange={(e) => setEmail(e.target.value)}\n+              />\n+            </div>\n+\n+            <div className=\"text-right\">\n+              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">رمز عبور</label>\n+              <input\n+                type=\"password\"\n+                required\n+                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                placeholder=\"••••••••\"\n+                onChange={(e) => setPassword(e.target.value)}\n+              />\n+            </div>\n+\n+            <button\n+              type=\"submit\"\n+              disabled={loading}\n+              className={`w-full py-4 mt-4 rounded-xl text-white font-bold transition-all shadow-lg ${\n+                loading ? 'bg-blue-300' : 'bg-[#1d63ff] hover:bg-blue-700 shadow-blue-200'\n+              }`}\n+            >\n+              {loading ? 'در حال تایید...' : 'ورود به سامانه'}\n+            </button>\n+          </form>\n+\n+          <div className=\"mt-8 text-center text-sm text-gray-400\">\n+            حساب کاربری ندارید؟{' '}\n+            <button \n+              onClick={() => router.push('/register')} \n+              className=\"text-[#1d63ff] font-bold hover:underline\"\n+            >\n+              ثبت‌نام در سامانه\n+            </button>\n+          </div>\n+        </div>\n+\n+      </div>\n+    </div>\n+  );\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771234393644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,97 +3,106 @@\n import { useState } from 'react';\n import axios from 'axios';\n import { useRouter } from 'next/navigation';\n \n-export default function LoginPage() {\n+export default function RegisterPage() {\n+  const [name, setName] = useState('');\n+  const [family, setFamily] = useState('');\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n   const [loading, setLoading] = useState(false);\n   const router = useRouter();\n \n-  const handleLogin = async (e: React.FormEvent) => {\n+  const handleRegister = async (e: React.FormEvent) => {\n     e.preventDefault();\n     setLoading(true);\n     try {\n-      const response = await axios.post('http://localhost:3000/auth/login', {\n-        email,\n-        password,\n-      });\n-      localStorage.setItem('token', response.data.access_token);\n-      alert('خوش آمدید!');\n-      router.push('/dashboard');\n+      await axios.post('http://localhost:3000/auth/register', { name, family, email, password });\n+      alert('ثبت‌نام با موفقیت انجام شد!');\n+      router.push('/');\n     } catch (error: any) {\n-      alert('ایمیل یا رمز عبور اشتباه است');\n+      alert('خطا در ثبت‌نام. لطفاً دوباره تلاش کنید.');\n     } finally {\n       setLoading(false);\n     }\n   };\n \n   return (\n     <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n-      {/* Main Container */}\n       <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n-        \n-        {/* Left Side - Blue Branding (Exactly like your Register) */}\n-        <div className=\"hidden md:flex md:w-2/5 bg-[#1d63ff] p-10 flex-col justify-center items-center text-center text-white relative\">\n+        {/* بخش آبی برندینگ */}\n+        <div className=\"hidden md:flex md:w-2/5 bg-[#1d63ff] p-10 flex-col justify-center items-center text-center text-white\">\n           <h1 className=\"text-4xl font-extrabold mb-4 tracking-tight\">ERP<br/>System</h1>\n-          <p className=\"text-blue-100 text-sm leading-relaxed mb-8\">\n-            به سامانه مدیریت منابع سازمانی خوش آمدید\n-          </p>\n-          {/* Subtle line indicator under the text */}\n+          <p className=\"text-blue-100 text-sm leading-relaxed mb-8\">ایجاد حساب کاربری جدید</p>\n           <div className=\"w-12 h-1 bg-blue-300 opacity-50 rounded-full\"></div>\n         </div>\n \n-        {/* Right Side - Login Form */}\n+        {/* بخش فرم ثبت‌نام (سطری و کشیده) */}\n         <div className=\"w-full md:w-3/5 p-12 flex flex-col justify-center\">\n-          <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ورود به حساب کاربری</h2>\n+          <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ایجاد حساب کاربری</h2>\n           <div className=\"w-full h-[1px] bg-gray-200 mb-8\"></div>\n \n-          <form onSubmit={handleLogin} className=\"space-y-6\">\n-            <div className=\"text-right\">\n-              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">پست الکترونیک</label>\n+          <form onSubmit={handleRegister} className=\"space-y-4 text-right\">\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-1 block mr-1\">نام</label>\n               <input\n+                type=\"text\"\n+                required\n+                className=\"w-full px-4 py-2.5 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700\"\n+                placeholder=\"مثلاً: علی\"\n+                onChange={(e) => setName(e.target.value)}\n+              />\n+            </div>\n+\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-1 block mr-1\">نام خانوادگی</label>\n+              <input\n+                type=\"text\"\n+                required\n+                className=\"w-full px-4 py-2.5 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700\"\n+                placeholder=\"مثلاً: علوی\"\n+                onChange={(e) => setFamily(e.target.value)}\n+              />\n+            </div>\n+\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-1 block mr-1\">پست الکترونیک</label>\n+              <input\n                 type=\"email\"\n                 required\n-                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                className=\"w-full px-4 py-2.5 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700\"\n                 placeholder=\"email@example.com\"\n                 onChange={(e) => setEmail(e.target.value)}\n               />\n             </div>\n \n-            <div className=\"text-right\">\n-              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">رمز عبور</label>\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-1 block mr-1\">رمز عبور</label>\n               <input\n                 type=\"password\"\n                 required\n-                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                className=\"w-full px-4 py-2.5 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700\"\n                 placeholder=\"••••••••\"\n                 onChange={(e) => setPassword(e.target.value)}\n               />\n             </div>\n \n             <button\n               type=\"submit\"\n               disabled={loading}\n-              className={`w-full py-4 mt-4 rounded-xl text-white font-bold transition-all shadow-lg ${\n-                loading ? 'bg-blue-300' : 'bg-[#1d63ff] hover:bg-blue-700 shadow-blue-200'\n-              }`}\n+              className=\"w-full py-4 mt-4 rounded-xl bg-[#1d63ff] text-white font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-[0.98]\"\n             >\n-              {loading ? 'در حال تایید...' : 'ورود به سامانه'}\n+              {loading ? 'در حال ثبت‌نام...' : 'تایید و عضویت در سامانه'}\n             </button>\n           </form>\n \n-          <div className=\"mt-8 text-center text-sm text-gray-400\">\n-            حساب کاربری ندارید؟{' '}\n-            <button \n-              onClick={() => router.push('/register')} \n-              className=\"text-[#1d63ff] font-bold hover:underline\"\n-            >\n-              ثبت‌نام در سامانه\n+          <div className=\"mt-6 text-center text-sm text-gray-400\">\n+            قبلاً حساب کاربری ساخته‌اید؟{' '}\n+            <button type=\"button\" onClick={() => router.push('/')} className=\"text-[#1d63ff] font-bold hover:underline\">\n+              وارد شوید\n             </button>\n           </div>\n         </div>\n-\n       </div>\n     </div>\n   );\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771234523147,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,108 +0,0 @@\n-'use client';\n-\n-import { useState } from 'react';\n-import axios from 'axios';\n-import { useRouter } from 'next/navigation';\n-\n-export default function RegisterPage() {\n-  const [name, setName] = useState('');\n-  const [family, setFamily] = useState('');\n-  const [email, setEmail] = useState('');\n-  const [password, setPassword] = useState('');\n-  const [loading, setLoading] = useState(false);\n-  const router = useRouter();\n-\n-  const handleRegister = async (e: React.FormEvent) => {\n-    e.preventDefault();\n-    setLoading(true);\n-    try {\n-      await axios.post('http://localhost:3000/auth/register', { name, family, email, password });\n-      alert('ثبت‌نام با موفقیت انجام شد!');\n-      router.push('/');\n-    } catch (error: any) {\n-      alert('خطا در ثبت‌نام. لطفاً دوباره تلاش کنید.');\n-    } finally {\n-      setLoading(false);\n-    }\n-  };\n-\n-  return (\n-    <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n-      <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n-        {/* بخش آبی برندینگ */}\n-        <div className=\"hidden md:flex md:w-2/5 bg-[#1d63ff] p-10 flex-col justify-center items-center text-center text-white\">\n-          <h1 className=\"text-4xl font-extrabold mb-4 tracking-tight\">ERP<br/>System</h1>\n-          <p className=\"text-blue-100 text-sm leading-relaxed mb-8\">ایجاد حساب کاربری جدید</p>\n-          <div className=\"w-12 h-1 bg-blue-300 opacity-50 rounded-full\"></div>\n-        </div>\n-\n-        {/* بخش فرم ثبت‌نام (سطری و کشیده) */}\n-        <div className=\"w-full md:w-3/5 p-12 flex flex-col justify-center\">\n-          <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ایجاد حساب کاربری</h2>\n-          <div className=\"w-full h-[1px] bg-gray-200 mb-8\"></div>\n-\n-          <form onSubmit={handleRegister} className=\"space-y-4 text-right\">\n-            <div>\n-              <label className=\"text-xs font-semibold text-gray-500 mb-1 block mr-1\">نام</label>\n-              <input\n-                type=\"text\"\n-                required\n-                className=\"w-full px-4 py-2.5 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700\"\n-                placeholder=\"مثلاً: علی\"\n-                onChange={(e) => setName(e.target.value)}\n-              />\n-            </div>\n-\n-            <div>\n-              <label className=\"text-xs font-semibold text-gray-500 mb-1 block mr-1\">نام خانوادگی</label>\n-              <input\n-                type=\"text\"\n-                required\n-                className=\"w-full px-4 py-2.5 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700\"\n-                placeholder=\"مثلاً: علوی\"\n-                onChange={(e) => setFamily(e.target.value)}\n-              />\n-            </div>\n-\n-            <div>\n-              <label className=\"text-xs font-semibold text-gray-500 mb-1 block mr-1\">پست الکترونیک</label>\n-              <input\n-                type=\"email\"\n-                required\n-                className=\"w-full px-4 py-2.5 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700\"\n-                placeholder=\"email@example.com\"\n-                onChange={(e) => setEmail(e.target.value)}\n-              />\n-            </div>\n-\n-            <div>\n-              <label className=\"text-xs font-semibold text-gray-500 mb-1 block mr-1\">رمز عبور</label>\n-              <input\n-                type=\"password\"\n-                required\n-                className=\"w-full px-4 py-2.5 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700\"\n-                placeholder=\"••••••••\"\n-                onChange={(e) => setPassword(e.target.value)}\n-              />\n-            </div>\n-\n-            <button\n-              type=\"submit\"\n-              disabled={loading}\n-              className=\"w-full py-4 mt-4 rounded-xl bg-[#1d63ff] text-white font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-[0.98]\"\n-            >\n-              {loading ? 'در حال ثبت‌نام...' : 'تایید و عضویت در سامانه'}\n-            </button>\n-          </form>\n-\n-          <div className=\"mt-6 text-center text-sm text-gray-400\">\n-            قبلاً حساب کاربری ساخته‌اید؟{' '}\n-            <button type=\"button\" onClick={() => router.push('/')} className=\"text-[#1d63ff] font-bold hover:underline\">\n-              وارد شوید\n-            </button>\n-          </div>\n-        </div>\n-      </div>\n-    </div>\n-  );\n-}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771234568180,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,85 @@\n+'use client';\n+\n+import { useState } from 'react';\n+import axios from 'axios';\n+import { useRouter } from 'next/navigation';\n+\n+export default function LoginPage() {\n+  const [email, setEmail] = useState('');\n+  const [password, setPassword] = useState('');\n+  const [loading, setLoading] = useState(false);\n+  const router = useRouter();\n+\n+  const handleLogin = async (e: React.FormEvent) => {\n+    e.preventDefault();\n+    setLoading(true);\n+    try {\n+      const response = await axios.post('http://localhost:3000/auth/login', { email, password });\n+      localStorage.setItem('token', response.data.access_token);\n+      alert('خوش آمدید!');\n+      router.push('/dashboard');\n+    } catch (error: any) {\n+      alert('ایمیل یا رمز عبور اشتباه است');\n+    } finally {\n+      setLoading(false);\n+    }\n+  };\n+\n+  return (\n+    <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n+      <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n+        {/* بخش آبی برندینگ */}\n+        <div className=\"hidden md:flex md:w-2/5 bg-[#1d63ff] p-10 flex-col justify-center items-center text-center text-white\">\n+          <h1 className=\"text-4xl font-extrabold mb-4 tracking-tight\">ERP<br/>System</h1>\n+          <p className=\"text-blue-100 text-sm leading-relaxed mb-8\">به سامانه مدیریت منابع سازمانی خوش آمدید</p>\n+          <div className=\"w-12 h-1 bg-blue-300 opacity-50 rounded-full\"></div>\n+        </div>\n+\n+        {/* بخش فرم لاگین */}\n+        <div className=\"w-full md:w-3/5 p-12 flex flex-col justify-center\">\n+          <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ورود به حساب کاربری</h2>\n+          <div className=\"w-full h-[1px] bg-gray-200 mb-8\"></div>\n+\n+          <form onSubmit={handleLogin} className=\"space-y-6 text-right\">\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">پست الکترونیک</label>\n+              <input\n+                type=\"email\"\n+                required\n+                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                placeholder=\"email@example.com\"\n+                onChange={(e) => setEmail(e.target.value)}\n+              />\n+            </div>\n+\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">رمز عبور</label>\n+              <input\n+                type=\"password\"\n+                required\n+                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                placeholder=\"••••••••\"\n+                onChange={(e) => setPassword(e.target.value)}\n+              />\n+            </div>\n+\n+            <button\n+              type=\"submit\"\n+              disabled={loading}\n+              className=\"w-full py-4 mt-4 rounded-xl bg-[#1d63ff] text-white font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-[0.98]\"\n+            >\n+              {loading ? 'در حال تایید...' : 'ورود به سامانه'}\n+            </button>\n+          </form>\n+\n+          <div className=\"mt-8 text-center text-sm text-gray-400\">\n+            حساب کاربری ندارید؟{' '}\n+            <button onClick={() => router.push('/register')} className=\"text-[#1d63ff] font-bold hover:underline\">\n+              ثبت‌نام در سامانه\n+            </button>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  );\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771265797556,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,85 +1,72 @@\n-'use client';\n+\"use client\";\n+import { useState, useEffect } from \"react\";\n+import axios from \"axios\";\n \n-import { useState } from 'react';\n-import axios from 'axios';\n-import { useRouter } from 'next/navigation';\n+export default function AdminTasksPage() {\n+  const [users, setUsers] = useState([]); // برای لیست دراپ‌داون پرسنل\n+  const [task, setTask] = useState({\n+    title: \"\",\n+    assignedToId: \"\",\n+    priority: \"Medium\",\n+  });\n \n-export default function LoginPage() {\n-  const [email, setEmail] = useState('');\n-  const [password, setPassword] = useState('');\n-  const [loading, setLoading] = useState(false);\n-  const router = useRouter();\n+  // ۱. گرفتن لیست یوزرها برای اساین کردن\n+  useEffect(() => {\n+    axios.get(\"http://localhost:3000/users\").then((res) => setUsers(res.data));\n+  }, []);\n \n-  const handleLogin = async (e: React.FormEvent) => {\n+  const handleSubmit = async (e) => {\n     e.preventDefault();\n-    setLoading(true);\n     try {\n-      const response = await axios.post('http://localhost:3000/auth/login', { email, password });\n-      localStorage.setItem('token', response.data.access_token);\n-      alert('خوش آمدید!');\n-      router.push('/dashboard');\n-    } catch (error: any) {\n-      alert('ایمیل یا رمز عبور اشتباه است');\n-    } finally {\n-      setLoading(false);\n+      await axios.post(\"http://localhost:3000/tasks\", task);\n+      alert(\"تسک با موفقیت اساین شد!\");\n+    } catch (err) {\n+      alert(\"خطا در ثبت تسک\");\n     }\n   };\n \n   return (\n-    <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n-      <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n-        {/* بخش آبی برندینگ */}\n-        <div className=\"hidden md:flex md:w-2/5 bg-[#1d63ff] p-10 flex-col justify-center items-center text-center text-white\">\n-          <h1 className=\"text-4xl font-extrabold mb-4 tracking-tight\">ERP<br/>System</h1>\n-          <p className=\"text-blue-100 text-sm leading-relaxed mb-8\">به سامانه مدیریت منابع سازمانی خوش آمدید</p>\n-          <div className=\"w-12 h-1 bg-blue-300 opacity-50 rounded-full\"></div>\n+    <div\n+      className=\"p-8 bg-white rounded-2xl shadow-lg max-w-2xl mx-auto\"\n+      dir=\"rtl\"\n+    >\n+      <h2 className=\"text-2xl font-bold mb-6 text-gray-800 border-b pb-4\">\n+        تعریف تسک جدید\n+      </h2>\n+\n+      <form onSubmit={handleSubmit} className=\"space-y-4\">\n+        <div>\n+          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n+            عنوان تسک\n+          </label>\n+          <input\n+            className=\"w-full p-3 bg-gray-50 border rounded-xl outline-none focus:ring-2 focus:ring-blue-500\"\n+            onChange={(e) => setTask({ ...task, title: e.target.value })}\n+            placeholder=\"مثلاً: رفع باگ بخش لاگین\"\n+          />\n         </div>\n \n-        {/* بخش فرم لاگین */}\n-        <div className=\"w-full md:w-3/5 p-12 flex flex-col justify-center\">\n-          <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ورود به حساب کاربری</h2>\n-          <div className=\"w-full h-[1px] bg-gray-200 mb-8\"></div>\n+        <div>\n+          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n+            ارجاع به پرسنل\n+          </label>\n+          <select\n+            className=\"w-full p-3 bg-gray-50 border rounded-xl outline-none\"\n+            onChange={(e) => setTask({ ...task, assignedToId: e.target.value })}\n\\ No newline at end of file\n+          >\n+            <option value=\"\">انتخاب کنید...</option>\n+            {users.map((u) => (\n+              <option key={u.id} value={u.id}>\n+                {u.name} {u.family}\n+              </option>\n+            ))}\n+          </select>\n+        </div>\n \n-          <form onSubmit={handleLogin} className=\"space-y-6 text-right\">\n-            <div>\n-              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">پست الکترونیک</label>\n-              <input\n-                type=\"email\"\n-                required\n-                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n-                placeholder=\"email@example.com\"\n-                onChange={(e) => setEmail(e.target.value)}\n-              />\n-            </div>\n-\n-            <div>\n-              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">رمز عبور</label>\n-              <input\n-                type=\"password\"\n-                required\n-                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n-                placeholder=\"••••••••\"\n-                onChange={(e) => setPassword(e.target.value)}\n-              />\n-            </div>\n-\n-            <button\n-              type=\"submit\"\n-              disabled={loading}\n-              className=\"w-full py-4 mt-4 rounded-xl bg-[#1d63ff] text-white font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-[0.98]\"\n-            >\n-              {loading ? 'در حال تایید...' : 'ورود به سامانه'}\n-            </button>\n-          </form>\n-\n-          <div className=\"mt-8 text-center text-sm text-gray-400\">\n-            حساب کاربری ندارید؟{' '}\n-            <button onClick={() => router.push('/register')} className=\"text-[#1d63ff] font-bold hover:underline\">\n-              ثبت‌نام در سامانه\n-            </button>\n-          </div>\n-        </div>\n-      </div>\n+        <button className=\"w-full py-4 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all\">\n+          ثبت و ارسال تسک\n+        </button>\n+      </form>\n     </div>\n   );\n-}\n+}\n"
                },
                {
                    "date": 1771265957049,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,11 +10,21 @@\n     priority: \"Medium\",\n   });\n \n   // ۱. گرفتن لیست یوزرها برای اساین کردن\n-  useEffect(() => {\n-    axios.get(\"http://localhost:3000/users\").then((res) => setUsers(res.data));\n-  }, []);\n+useEffect(() => {\n+  axios.get('http://localhost:3000/users')\n+    .then(res => {\n+      // چون خروجی بک‌ند تو { success: true, data: [...] } هست\n+      // باید مستقیماً آرایه را از داخل res.data.data برداری\n+      const fetchedUsers = res.data.data || []; \n+      setUsers(fetchedUsers);\n+    })\n+    .catch(err => {\n+      console.error(err);\n+      setUsers([]); // در صورت خطا آرایه خالی بذار که صفحه کرش نکنه\n+    });\n+}, []);\n \n   const handleSubmit = async (e) => {\n     e.preventDefault();\n     try {\n@@ -68,5 +78,5 @@\n         </button>\n       </form>\n     </div>\n   );\n-}\n\\ No newline at end of file\n+}\n"
                },
                {
                    "date": 1771265962784,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,21 +10,21 @@\n     priority: \"Medium\",\n   });\n \n   // ۱. گرفتن لیست یوزرها برای اساین کردن\n-useEffect(() => {\n-  axios.get('http://localhost:3000/users')\n-    .then(res => {\n-      // چون خروجی بک‌ند تو { success: true, data: [...] } هست\n-      // باید مستقیماً آرایه را از داخل res.data.data برداری\n-      const fetchedUsers = res.data.data || []; \n-      setUsers(fetchedUsers);\n-    })\n-    .catch(err => {\n-      console.error(err);\n-      setUsers([]); // در صورت خطا آرایه خالی بذار که صفحه کرش نکنه\n-    });\n-}, []);\n+  useEffect(() => {\n+    axios.get('http://localhost:3000/users')\n+      .then(res => {\n+        // چون خروجی بک‌ند تو { success: true, data: [...] } هست\n+        // باید مستقیماً آرایه را از داخل res.data.data برداری\n+        const fetchedUsers = res.data.data || []; \n+        setUsers(fetchedUsers);\n+      })\n+      .catch(err => {\n+        console.error(err);\n+        setUsers([]); // در صورت خطا آرایه خالی بذار که صفحه کرش نکنه\n+      });\n+  }, []);\n \n   const handleSubmit = async (e) => {\n     e.preventDefault();\n     try {\n"
                },
                {
                    "date": 1771265987021,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,82 +1,85 @@\n-\"use client\";\n-import { useState, useEffect } from \"react\";\n-import axios from \"axios\";\n+'use client';\n \n-export default function AdminTasksPage() {\n-  const [users, setUsers] = useState([]); // برای لیست دراپ‌داون پرسنل\n-  const [task, setTask] = useState({\n-    title: \"\",\n-    assignedToId: \"\",\n-    priority: \"Medium\",\n-  });\n+import { useState } from 'react';\n+import axios from 'axios';\n+import { useRouter } from 'next/navigation';\n \n-  // ۱. گرفتن لیست یوزرها برای اساین کردن\n-  useEffect(() => {\n-    axios.get('http://localhost:3000/users')\n-      .then(res => {\n-        // چون خروجی بک‌ند تو { success: true, data: [...] } هست\n-        // باید مستقیماً آرایه را از داخل res.data.data برداری\n-        const fetchedUsers = res.data.data || []; \n-        setUsers(fetchedUsers);\n-      })\n-      .catch(err => {\n-        console.error(err);\n-        setUsers([]); // در صورت خطا آرایه خالی بذار که صفحه کرش نکنه\n-      });\n-  }, []);\n+export default function LoginPage() {\n+  const [email, setEmail] = useState('');\n+  const [password, setPassword] = useState('');\n+  const [loading, setLoading] = useState(false);\n+  const router = useRouter();\n \n-  const handleSubmit = async (e) => {\n+  const handleLogin = async (e: React.FormEvent) => {\n     e.preventDefault();\n+    setLoading(true);\n     try {\n-      await axios.post(\"http://localhost:3000/tasks\", task);\n-      alert(\"تسک با موفقیت اساین شد!\");\n-    } catch (err) {\n-      alert(\"خطا در ثبت تسک\");\n+      const response = await axios.post('http://localhost:3000/auth/login', { email, password });\n+      localStorage.setItem('token', response.data.access_token);\n+      alert('خوش آمدید!');\n+      router.push('/dashboard');\n+    } catch (error: any) {\n+      alert('ایمیل یا رمز عبور اشتباه است');\n+    } finally {\n+      setLoading(false);\n     }\n   };\n \n   return (\n-    <div\n-      className=\"p-8 bg-white rounded-2xl shadow-lg max-w-2xl mx-auto\"\n-      dir=\"rtl\"\n-    >\n-      <h2 className=\"text-2xl font-bold mb-6 text-gray-800 border-b pb-4\">\n-        تعریف تسک جدید\n-      </h2>\n-\n-      <form onSubmit={handleSubmit} className=\"space-y-4\">\n-        <div>\n-          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n-            عنوان تسک\n-          </label>\n-          <input\n-            className=\"w-full p-3 bg-gray-50 border rounded-xl outline-none focus:ring-2 focus:ring-blue-500\"\n-            onChange={(e) => setTask({ ...task, title: e.target.value })}\n-            placeholder=\"مثلاً: رفع باگ بخش لاگین\"\n-          />\n+    <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n+      <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n+        {/* بخش آبی برندینگ */}\n+        <div className=\"hidden md:flex md:w-2/5 bg-[#1d63ff] p-10 flex-col justify-center items-center text-center text-white\">\n+          <h1 className=\"text-4xl font-extrabold mb-4 tracking-tight\">ERP<br/>System</h1>\n+          <p className=\"text-blue-100 text-sm leading-relaxed mb-8\">به سامانه مدیریت منابع سازمانی خوش آمدید</p>\n+          <div className=\"w-12 h-1 bg-blue-300 opacity-50 rounded-full\"></div>\n         </div>\n \n-        <div>\n-          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n-            ارجاع به پرسنل\n-          </label>\n-          <select\n-            className=\"w-full p-3 bg-gray-50 border rounded-xl outline-none\"\n-            onChange={(e) => setTask({ ...task, assignedToId: e.target.value })}\n-          >\n-            <option value=\"\">انتخاب کنید...</option>\n-            {users.map((u) => (\n-              <option key={u.id} value={u.id}>\n-                {u.name} {u.family}\n-              </option>\n-            ))}\n-          </select>\n+        {/* بخش فرم لاگین */}\n+        <div className=\"w-full md:w-3/5 p-12 flex flex-col justify-center\">\n+          <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ورود به حساب کاربری</h2>\n+          <div className=\"w-full h-[1px] bg-gray-200 mb-8\"></div>\n+\n+          <form onSubmit={handleLogin} className=\"space-y-6 text-right\">\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">پست الکترونیک</label>\n+              <input\n+                type=\"email\"\n+                required\n+                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                placeholder=\"email@example.com\"\n+                onChange={(e) => setEmail(e.target.value)}\n+              />\n+            </div>\n+\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">رمز عبور</label>\n+              <input\n+                type=\"password\"\n+                required\n+                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                placeholder=\"••••••••\"\n+                onChange={(e) => setPassword(e.target.value)}\n+              />\n+            </div>\n+\n+            <button\n+              type=\"submit\"\n+              disabled={loading}\n+              className=\"w-full py-4 mt-4 rounded-xl bg-[#1d63ff] text-white font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-[0.98]\"\n+            >\n+              {loading ? 'در حال تایید...' : 'ورود به سامانه'}\n+            </button>\n+          </form>\n+\n+          <div className=\"mt-8 text-center text-sm text-gray-400\">\n+            حساب کاربری ندارید؟{' '}\n+            <button onClick={() => router.push('/register')} className=\"text-[#1d63ff] font-bold hover:underline\">\n+              ثبت‌نام در سامانه\n+            </button>\n+          </div>\n         </div>\n-\n-        <button className=\"w-full py-4 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all\">\n-          ثبت و ارسال تسک\n-        </button>\n-      </form>\n+      </div>\n     </div>\n   );\n-}\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1771437145324,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,22 +9,22 @@\n   const [password, setPassword] = useState('');\n   const [loading, setLoading] = useState(false);\n   const router = useRouter();\n \n-  const handleLogin = async (e: React.FormEvent) => {\n-    e.preventDefault();\n-    setLoading(true);\n-    try {\n-      const response = await axios.post('http://localhost:3000/auth/login', { email, password });\n-      localStorage.setItem('token', response.data.access_token);\n-      alert('خوش آمدید!');\n-      router.push('/dashboard');\n-    } catch (error: any) {\n-      alert('ایمیل یا رمز عبور اشتباه است');\n-    } finally {\n-      setLoading(false);\n-    }\n-  };\n+const handleLogin = async (e: React.FormEvent) => {\n+  e.preventDefault();\n+  try {\n+    // ارسال درخواست به آدرس پایه (Base URL) تعریف شده در فایل axios.ts\n+    const res = await api.post('/auth/login', { email, password });\n+    \n+    // ذخیره توکن\n+    Cookies.set('token', res.data.access_token, { expires: 7 });\n+    \n+    router.push('/dashboard');\n+  } catch (error: any) {\n+    alert(\"ایمیل یا رمز عبور اشتباه است ❌\");\n+  }\n+};\n \n   return (\n     <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n       <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n"
                },
                {
                    "date": 1771437151632,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,9 @@\n \n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n   try {\n-    // ارسال درخواست به آدرس پایه (Base URL) تعریف شده در فایل axios.ts\n+\n     const res = await api.post('/auth/login', { email, password });\n     \n     // ذخیره توکن\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n"
                },
                {
                    "date": 1771437164375,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n \n   return (\n     <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n       <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n-        {/* بخش آبی برندینگ */}\n+\n         <div className=\"hidden md:flex md:w-2/5 bg-[#1d63ff] p-10 flex-col justify-center items-center text-center text-white\">\n           <h1 className=\"text-4xl font-extrabold mb-4 tracking-tight\">ERP<br/>System</h1>\n           <p className=\"text-blue-100 text-sm leading-relaxed mb-8\">به سامانه مدیریت منابع سازمانی خوش آمدید</p>\n           <div className=\"w-12 h-1 bg-blue-300 opacity-50 rounded-full\"></div>\n"
                },
                {
                    "date": 1771437518255,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,9 @@\n \n import { useState } from 'react';\n import axios from 'axios';\n import { useRouter } from 'next/navigation';\n+import api from '@/lib/axios';\n \n export default function LoginPage() {\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n"
                },
                {
                    "date": 1771437539697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n \n import { useState } from 'react';\n import axios from 'axios';\n import { useRouter } from 'next/navigation';\n-import api from '@/lib/axios';\n+import api from '@//axios';\n \n export default function LoginPage() {\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n"
                },
                {
                    "date": 1771450074308,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n \n import { useState } from 'react';\n import axios from 'axios';\n import { useRouter } from 'next/navigation';\n-import api from '@//axios';\n+import api from '@/مهذ/axios';\n \n export default function LoginPage() {\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n"
                },
                {
                    "date": 1771450085886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,9 @@\n \n import { useState } from 'react';\n import axios from 'axios';\n import { useRouter } from 'next/navigation';\n-import api from '@/مهذ/axios';\n+import api from '@/lib/axios';\n \n export default function LoginPage() {\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n"
                },
                {
                    "date": 1771576195968,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n   try {\n \n-    const res = await api.post('/auth/login', { email, password });\n+    const res = await api.post('http://localhost:3000/auth/login', { email, password });\n     \n     // ذخیره توکن\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n"
                },
                {
                    "date": 1771576629380,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3000/auth/login', { email, password });\n-    \n+    c\n     // ذخیره توکن\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n"
                },
                {
                    "date": 1771576637840,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3000/auth/login', { email, password });\n-    c\n+    console.log\n     // ذخیره توکن\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n"
                },
                {
                    "date": 1771576644141,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,8 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3000/auth/login', { email, password });\n-    console.log\n     // ذخیره توکن\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n"
                },
                {
                    "date": 1771576652078,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,10 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3000/auth/login', { email, password });\n-    // ذخیره توکن\n+\n+<Log>.</Log>    // ذخیره توکن\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n   } catch (error: any) {\n"
                },
                {
                    "date": 1771577853218,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,11 +14,10 @@\n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n   try {\n \n-    const res = await api.post('http://localhost:3000/auth/login', { email, password });\n+    const res = await api.post('http://localhost:300۱/auth/login', { email, password });\n \n-<Log>.</Log>    // ذخیره توکن\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n   } catch (error: any) {\n"
                },
                {
                    "date": 1771577863735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n   try {\n \n-    const res = await api.post('http://localhost:300۱/auth/login', { email, password });\n+    const res = await api.post('/auth/login', { email, password });\n \n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n"
                },
                {
                    "date": 1771577911656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n   try {\n \n-    const res = await api.post('/auth/login', { email, password });\n+    const res = await api.post('http://localhost:3001/auth/login', { email, password });\n \n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n"
                },
                {
                    "date": 1771579667394,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3001/auth/login', { email, password });\n-\n+    \n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n   } catch (error: any) {\n"
                },
                {
                    "date": 1771579675387,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3001/auth/login', { email, password });\n-    \n+    console.log\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n   } catch (error: any) {\n"
                },
                {
                    "date": 1771579681082,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3001/auth/login', { email, password });\n-    console.log\n+    console.log('token:')\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n   } catch (error: any) {\n"
                },
                {
                    "date": 1771579689003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3001/auth/login', { email, password });\n-    console.log('token:')\n+    console.log('token:',res.data.access_token )\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n     router.push('/dashboard');\n   } catch (error: any) {\n"
                },
                {
                    "date": 1771579878756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,20 +9,27 @@\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n   const [loading, setLoading] = useState(false);\n   const router = useRouter();\n-\n-const handleLogin = async (e: React.FormEvent) => {\n+const handleSubmit = async (e: React.FormEvent) => {\n   e.preventDefault();\n   try {\n-\n-    const res = await api.post('http://localhost:3001/auth/login', { email, password });\n-    console.log('token:',res.data.access_token )\n-    Cookies.set('token', res.data.access_token, { expires: 7 });\n+    const res = await api.post('/auth/login', { email, password });\n     \n-    router.push('/dashboard');\n-  } catch (error: any) {\n-    alert(\"ایمیل یا رمز عبور اشتباه است ❌\");\n+    // ۱. اینجا چک کن ببین دیتا چی میاد\n+    console.log(\"Full Login Response:\", res.data);\n+    \n+    const token = res.data.accessToken || res.data.token; // بسته به ساختار بک‌اِندت\n+    \n+    if (token) {\n+      console.log(\"Token Received ✅:\", token);\n+      Cookies.set('token', token);\n+      // هدایت به داشبورد\n+    } else {\n+      console.error(\"No token found in response! ❌\");\n+    }\n+  } catch (err) {\n+    console.error(\"Login Error Details:\", err.response?.data);\n   }\n };\n \n   return (\n"
                },
                {
                    "date": 1771579895499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n         <div className=\"w-full md:w-3/5 p-12 flex flex-col justify-center\">\n           <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ورود به حساب کاربری</h2>\n           <div className=\"w-full h-[1px] bg-gray-200 mb-8\"></div>\n \n-          <form onSubmit={handleLogin} className=\"space-y-6 text-right\">\n+          <form onSubmit={handleSubmit} className=\"space-y-6 text-right\">\n             <div>\n               <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">پست الکترونیک</label>\n               <input\n                 type=\"email\"\n"
                },
                {
                    "date": 1771579931026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,9 +46,9 @@\n         <div className=\"w-full md:w-3/5 p-12 flex flex-col justify-center\">\n           <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ورود به حساب کاربری</h2>\n           <div className=\"w-full h-[1px] bg-gray-200 mb-8\"></div>\n \n-          <form onSubmit={handleSubmit} className=\"space-y-6 text-right\">\n+          <form onSubmit={handleLogin} className=\"space-y-6 text-right\">\n             <div>\n               <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">پست الکترونیک</label>\n               <input\n                 type=\"email\"\n"
                },
                {
                    "date": 1771579963604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,11 +9,12 @@\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n   const [loading, setLoading] = useState(false);\n   const router = useRouter();\n-const handleSubmit = async (e: React.FormEvent) => {\n+\n+const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n-  try {\n+try {\n     const res = await api.post('/auth/login', { email, password });\n     \n     // ۱. اینجا چک کن ببین دیتا چی میاد\n     console.log(\"Full Login Response:\", res.data);\n"
                },
                {
                    "date": 1771580089641,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,28 +12,29 @@\n   const router = useRouter();\n \n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n-try {\n-    const res = await api.post('/auth/login', { email, password });\n-    \n-    // ۱. اینجا چک کن ببین دیتا چی میاد\n-    console.log(\"Full Login Response:\", res.data);\n-    \n-    const token = res.data.accessToken || res.data.token; // بسته به ساختار بک‌اِندت\n-    \n-    if (token) {\n-      console.log(\"Token Received ✅:\", token);\n-      Cookies.set('token', token);\n-      // هدایت به داشبورد\n-    } else {\n-      console.error(\"No token found in response! ❌\");\n+  try {\n+      const res = await api.post('/auth/login', { email, password });\n+      \n+      // ۱. اینجا چک کن ببین دیتا چی میاد\n+      console.log(\"Full Login Response:\", res.data);\n+      \n+      const token = res.data.accessToken || res.data.token; // بسته به ساختار بک‌اِندت\n+      \n+      if (token) {\n+        console.log(\"Token Received ✅:\", token);\n+        Cookies.set('token', token);\n+        // هدایت به داشبورد\n+      } else {\n+        console.error(\"No token found in response! ❌\");\n+      }\n+    } catch (err) {\n+      console.error(\"Login Error Details:\", err.response?.data);\n     }\n-  } catch (err) {\n-    console.error(\"Login Error Details:\", err.response?.data);\n-  }\n };\n \n+\n   return (\n     <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n       <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n \n"
                },
                {
                    "date": 1771580098506,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,10 +31,10 @@\n     } catch (err) {\n       console.error(\"Login Error Details:\", err.response?.data);\n     }\n };\n+{}\n \n-\n   return (\n     <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n       <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n \n"
                },
                {
                    "date": 1771580149543,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n   const [loading, setLoading] = useState(false);\n   const router = useRouter();\n-\n+{}\n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n   try {\n       const res = await api.post('/auth/login', { email, password });\n@@ -31,10 +31,10 @@\n     } catch (err) {\n       console.error(\"Login Error Details:\", err.response?.data);\n     }\n };\n-{}\n \n+\n   return (\n     <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n       <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n \n"
                },
                {
                    "date": 1771580166709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n   const [loading, setLoading] = useState(false);\n   const router = useRouter();\n-{}\n+});\n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n   try {\n       const res = await api.post('/auth/login', { email, password });\n"
                },
                {
                    "date": 1771580400910,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n   const [email, setEmail] = useState('');\n   const [password, setPassword] = useState('');\n   const [loading, setLoading] = useState(false);\n   const router = useRouter();\n-});\n+\n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n   try {\n       const res = await api.post('/auth/login', { email, password });\n"
                },
                {
                    "date": 1771580406813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,29 +12,28 @@\n   const router = useRouter();\n \n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n-  try {\n-      const res = await api.post('/auth/login', { email, password });\n-      \n-      // ۱. اینجا چک کن ببین دیتا چی میاد\n-      console.log(\"Full Login Response:\", res.data);\n-      \n-      const token = res.data.accessToken || res.data.token; // بسته به ساختار بک‌اِندت\n-      \n-      if (token) {\n-        console.log(\"Token Received ✅:\", token);\n-        Cookies.set('token', token);\n-        // هدایت به داشبورد\n-      } else {\n-        console.error(\"No token found in response! ❌\");\n-      }\n-    } catch (err) {\n-      console.error(\"Login Error Details:\", err.response?.data);\n+try {\n+    const res = await api.post('/auth/login', { email, password });\n+    \n+    // ۱. اینجا چک کن ببین دیتا چی میاد\n+    console.log(\"Full Login Response:\", res.data);\n+    \n+    const token = res.data.accessToken || res.data.token; // بسته به ساختار بک‌اِندت\n+    \n+    if (token) {\n+      console.log(\"Token Received ✅:\", token);\n+      Cookies.set('token', token);\n+      // هدایت به داشبورد\n+    } else {\n+      console.error(\"No token found in response! ❌\");\n     }\n+  } catch (err) {\n+    console.error(\"Login Error Details:\", err.response?.data);\n+  }\n };\n \n-\n   return (\n     <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n       <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n \n"
                },
                {
                    "date": 1771580425701,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,25 +12,16 @@\n   const router = useRouter();\n \n const handleLogin = async (e: React.FormEvent) => {\n   e.preventDefault();\n-try {\n-    const res = await api.post('/auth/login', { email, password });\n+  try {\n+\n+    const res = await api.post('http://localhost:3001/auth/login', { email, password });\n+console.log(\"Full Login Response:\", res.data);    Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n-    // ۱. اینجا چک کن ببین دیتا چی میاد\n-    console.log(\"Full Login Response:\", res.data);\n-    \n-    const token = res.data.accessToken || res.data.token; // بسته به ساختار بک‌اِندت\n-    \n-    if (token) {\n-      console.log(\"Token Received ✅:\", token);\n-      Cookies.set('token', token);\n-      // هدایت به داشبورد\n-    } else {\n-      console.error(\"No token found in response! ❌\");\n-    }\n-  } catch (err) {\n-    console.error(\"Login Error Details:\", err.response?.data);\n+    router.push('/dashboard');\n+  } catch (error: any) {\n+    alert(\"ایمیل یا رمز عبور اشتباه است ❌\");\n   }\n };\n \n   return (\n"
                },
                {
                    "date": 1771580432802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,10 +15,12 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3001/auth/login', { email, password });\n-console.log(\"Full Login Response:\", res.data);    Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n+    console.log(\"Full Login Response:\", res.data);\n+    Cookies.set('token', res.data.access_token, { expires: 7 });\n+    \n     router.push('/dashboard');\n   } catch (error: any) {\n     alert(\"ایمیل یا رمز عبور اشتباه است ❌\");\n   }\n"
                },
                {
                    "date": 1771580446966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,11 +15,13 @@\n   e.preventDefault();\n   try {\n \n     const res = await api.post('http://localhost:3001/auth/login', { email, password });\n-    \n+\n     console.log(\"Full Login Response:\", res.data);\n+\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n+    const token = res.data.accessToken || res.data.token; // بسته به ساختار بک‌اِندت\n     \n     router.push('/dashboard');\n   } catch (error: any) {\n     alert(\"ایمیل یا رمز عبور اشتباه است ❌\");\n"
                },
                {
                    "date": 1771580479114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,8 @@\n \n     console.log(\"Full Login Response:\", res.data);\n \n     Cookies.set('token', res.data.access_token, { expires: 7 });\n-    const token = res.data.accessToken || res.data.token; // بسته به ساختار بک‌اِندت\n     \n     router.push('/dashboard');\n   } catch (error: any) {\n     alert(\"ایمیل یا رمز عبور اشتباه است ❌\");\n"
                },
                {
                    "date": 1771580510455,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,8 +20,9 @@\n     console.log(\"Full Login Response:\", res.data);\n \n     Cookies.set('token', res.data.access_token, { expires: 7 });\n     \n+    \n     router.push('/dashboard');\n   } catch (error: any) {\n     alert(\"ایمیل یا رمز عبور اشتباه است ❌\");\n   }\n"
                },
                {
                    "date": 1771580520241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,15 @@\n     const res = await api.post('http://localhost:3001/auth/login', { email, password });\n \n     console.log(\"Full Login Response:\", res.data);\n \n-    \n+    if (token) {\n+      console.log(\"Token Received ✅:\", token);\n+      Cookies.set('token', token);\n+      // هدایت به داشبورد\n+    } else {\n+      console.error(\"No token found in response! ❌\");\n+    }\n     Cookies.set('token', res.data.access_token, { expires: 7 });\n \n     \n     router.push('/dashboard');\n"
                },
                {
                    "date": 1771580682004,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,93 @@\n+'use client';\n+\n+import { useState } from 'react';\n+import axios from 'axios';\n+import { useRouter } from 'next/navigation';\n+import api from '@/lib/axios';\n+\n+export default function LoginPage() {\n+  const [email, setEmail] = useState('');\n+  const [password, setPassword] = useState('');\n+  const [loading, setLoading] = useState(false);\n+  const router = useRouter();\n+\n+const handleLogin = async (e: React.FormEvent) => {\n+  e.preventDefault();\n+  try {\n+\n+    const res = await api.post('http://localhost:3001/auth/login', { email, password });\n+\n+    console.log(\"Full Login Response:\", res.data);\n+    const token = res.data.accessToken || res.data.token;\n+    if (token) {\n+      console.log(\"Token Received ✅:\", token);\n+      Cookies.set('token', token, { expires: 7 });\n+      // هدایت به داشبورد\n+    } else {\n+      console.error(\"No token found in response! ❌\");\n+    } \n+\n+    router.push('/dashboard');\n+  } catch (error: any) {\n+    alert(\"ایمیل یا رمز عبور اشتباه است ❌\");\n+  }\n+};\n+\n+  return (\n+    <div className=\"min-h-screen bg-[#0f172a] flex items-center justify-center p-4 font-[sans-serif]\">\n+      <div className=\"flex w-full max-w-[850px] bg-white rounded-[25px] shadow-2xl overflow-hidden min-h-[500px]\">\n+\n+        <div className=\"hidden md:flex md:w-2/5 bg-[#1d63ff] p-10 flex-col justify-center items-center text-center text-white\">\n+          <h1 className=\"text-4xl font-extrabold mb-4 tracking-tight\">ERP<br/>System</h1>\n+          <p className=\"text-blue-100 text-sm leading-relaxed mb-8\">به سامانه مدیریت منابع سازمانی خوش آمدید</p>\n+          <div className=\"w-12 h-1 bg-blue-300 opacity-50 rounded-full\"></div>\n+        </div>\n+\n+        {/* بخش فرم لاگین */}\n+        <div className=\"w-full md:w-3/5 p-12 flex flex-col justify-center\">\n+          <h2 className=\"text-2xl font-bold text-[#334155] mb-2 text-right\">ورود به حساب کاربری</h2>\n+          <div className=\"w-full h-[1px] bg-gray-200 mb-8\"></div>\n+\n+          <form onSubmit={handleLogin} className=\"space-y-6 text-right\">\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">پست الکترونیک</label>\n+              <input\n+                type=\"email\"\n+                required\n+                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                placeholder=\"email@example.com\"\n+                onChange={(e) => setEmail(e.target.value)}\n+              />\n+            </div>\n+\n+            <div>\n+              <label className=\"text-xs font-semibold text-gray-500 mb-2 block mr-1\">رمز عبور</label>\n+              <input\n+                type=\"password\"\n+                required\n+                className=\"w-full px-4 py-3 bg-[#f1f5f9] border-none rounded-xl focus:ring-2 focus:ring-[#1d63ff] outline-none text-right text-gray-700 transition-all\"\n+                placeholder=\"••••••••\"\n+                onChange={(e) => setPassword(e.target.value)}\n+              />\n+            </div>\n+\n+            <button\n+              type=\"submit\"\n+              disabled={loading}\n+              className=\"w-full py-4 mt-4 rounded-xl bg-[#1d63ff] text-white font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-[0.98]\"\n+            >\n+              {loading ? 'در حال تایید...' : 'ورود به سامانه'}\n+            </button>\n+          </form>\n+\n+          <div className=\"mt-8 text-center text-sm text-gray-400\">\n+            حساب کاربری ندارید؟{' '}\n+            <button onClick={() => router.push('/register')} className=\"text-[#1d63ff] font-bold hover:underline\">\n+              ثبت‌نام در سامانه\n+            </button>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  );\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1771052571256,
            "name": "Commit-0",
            "content": "'use client'; // چون فرم داریم باید کلاینت کامپوننت باشه\nimport { useState } from 'react';\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const response = await fetch('http://localhost:3000/auth/login', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password }),\n    });\n\n    const data = await response.json();\n\n    if (response.ok) {\n      alert('ایول! لاگین شدیم. توکن: ' + data.access_token);\n      localStorage.setItem('token', data.access_token); // ذخیره موقت توکن\n    } else {\n      alert('خطا: ' + data.message);\n    }\n  };\n\n  return (\n    <main className=\"flex min-h-screen flex-col items-center justify-center p-24 bg-gray-100\">\n      <form onSubmit={handleLogin} className=\"p-8 bg-white rounded-lg shadow-md w-96\">\n        <h1 className=\"text-2xl font-bold mb-6 text-center text-gray-800\">ورود به ERP</h1>\n        <input \n          type=\"email\" placeholder=\"ایمیل\" \n          className=\"w-full p-2 mb-4 border rounded text-gray-900\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <input \n          type=\"password\" placeholder=\"رمز عبور\" \n          className=\"w-full p-2 mb-6 border rounded text-gray-900\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <button type=\"submit\" className=\"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700\">\n          ورود\n        </button>\n      </form>\n    </main>\n  );\n}"
        }
    ]
}